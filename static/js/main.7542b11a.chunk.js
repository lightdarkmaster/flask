(this.webpackJsonpphoto=this.webpackJsonpphoto||[]).push([[0],{119:function(t,e,a){},155:function(t,e,a){},157:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),i=(a(119),a(24)),l=a.n(i),s=a(36),d=a(13),p=a(6),b=a(206),u=(a(207),a(208),a(204)),m=(a(221),a(209)),g=a(210),h=a(213),x=a(205),j=a(203),f=a(211),O=a(212),C=a(214),w=a(104),k=a(215),v=a(216),N=a(217),S=a(218),y=a(219),R=a(220),W=(a.p,a.p+"static/media/bg.d6836046.png"),I=a(60),z=a(49),B=a(59),D=a.n(B),E=a(2);Object(p.a)((function(t){return{root:{color:t.palette.getContrastText(z.a.white),backgroundColor:z.a.white,"&:hover":{backgroundColor:"#ffffff7a"}}}}))(x.a),a(76).default,Object(b.a)((function(t){return{grow:{flexGrow:1},clearButton:{width:"-webkit-fill-available",borderRadius:"15px",padding:"15px 22px",color:"#000000a6",fontSize:"20px",fontWeight:900},root:{maxWidth:345,flexGrow:1},media:{height:400},paper:{padding:t.spacing(2),margin:"auto",maxWidth:500},gridContainer:{justifyContent:"center",padding:"4em 1em 0 1em"},mainContainer:{backgroundImage:"url(".concat(W,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"93vh",marginTop:"8px"},imageCard:{margin:"auto",maxWidth:400,height:500,backgroundColor:"transparent",boxShadow:"0px 9px 70px 0px rgb(0 0 0 / 30%) !important",borderRadius:"15px"},imageCardEmpty:{height:"auto"},noImage:{margin:"auto",width:400,height:"400 !important"},input:{display:"none"},uploadIcon:{background:"white"},tableContainer:{backgroundColor:"transparent !important",boxShadow:"none !important"},table:{backgroundColor:"transparent !important"},tableHead:{backgroundColor:"transparent !important"},tableRow:{backgroundColor:"transparent !important"},tableCell:{fontSize:"22px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableCell1:{fontSize:"14px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableBody:{backgroundColor:"transparent !important"},text:{color:"white !important",textAlign:"center"},buttonGrid:{maxWidth:"416px",width:"100%"},detail:{backgroundColor:"white",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},appbar:{background:"lightgreen",boxShadow:"none",color:"black"},loader:{color:"#be6a77 !important"}}}));a(155);var G=a(98),F=a.n(G),P=a(99),T=a.n(P),U=a(100),H=a.n(U),L=a(101),A=a.n(L),J=a(102),M=a.n(J),_=Object(b.a)((function(t){return{grow:{flexGrow:1},clearButton:{width:500,borderRadius:"15px",padding:"10px 10px",color:"#000000a6",fontSize:"20px",fontWeight:900,top:"-70px"},root:{maxWidth:345,flexGrow:1},media:{height:400},paper:{padding:t.spacing(2),margin:"auto",maxWidth:500},gridContainer:{justifyContent:"right",padding:"4em 1em 0 1em"},mainContainer:{backgroundPosition:"right",height:"90vh",marginTop:"8px",marginRight:"10%"},imageCard:{margin:"auto",marginRight:"-12%",maxWidth:500,height:600,backgroundColor:"transparent",boxShadow:"0px 9px 70px 0px rgb(0 0 0 / 30%) !important",borderRadius:"15px"},imageCardEmpty:{height:"auto"},noImage:{margin:"auto",width:400,height:"400 !important"},input:{display:"none"},uploadIcon:{background:"white"},tableContainer:{backgroundColor:"transparent !important",boxShadow:"none !important"},table:{backgroundColor:"transparent !important"},tableHead:{backgroundColor:"transparent !important"},tableRow:{backgroundColor:"transparent !important"},tableCell:{fontSize:"22px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableCell1:{fontSize:"14px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableBody:{backgroundColor:"transparent !important"},text:{color:"white !important",textAlign:"center"},buttonGrid:{maxWidth:"416px",width:"100%"},detail:{backgroundColor:"white",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},appbar:{background:"lightgreen",boxShadow:"none",color:"black"},loader:{color:"#be6a77 !important"}}})),q=function(){var t=_(),e=Object(n.useState)(),r=Object(d.a)(e,2),o=r[0],c=r[1],i=Object(n.useState)(),b=Object(d.a)(i,2),W=b[0],B=b[1],G=Object(n.useState)(),P=Object(d.a)(G,2),U=P[0],L=P[1],J=Object(n.useState)(!1),q=Object(d.a)(J,2),K=q[0],Q=q[1],V=Object(n.useState)(!1),X=Object(d.a)(V,2),Y=X[0],Z=X[1],$=0,tt=Object(p.a)((function(t){return{root:{color:t.palette.getContrastText(z.a.white),backgroundColor:z.a.white,"&:hover":{backgroundColor:"#ffffff7a"}}}}))(x.a),et=a(76).default,at=function(){var t=Object(s.a)(l.a.mark((function t(){var e,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!K){t.next=8;break}return(e=new FormData).append("file",o),t.next=5,et({method:"post",url:"http://localhost:8000/predict",data:e});case 5:200===(a=t.sent).status&&L(a.data),Z(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){if(o){var t=URL.createObjectURL(o);B(t)}else B(void 0)}),[o]),Object(n.useEffect)((function(){W&&(Z(!0),at(),mt())}),[W]);U&&($=(100*parseFloat(U.confidence)).toFixed(2));var nt=Object(n.useState)(null),rt=Object(d.a)(nt,2),ot=rt[0],ct=rt[1],it=Object(n.useRef)(null),lt=Object(n.useRef)(null),st=Object(n.useState)({x:0,y:0}),dt=Object(d.a)(st,2),pt=(dt[0],dt[1],function(){var t=Object(s.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:e=t.sent,ct(e),it.current&&(it.current.srcObject=e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error accessing camera:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()),bt=function(){if(lt.current&&it.current){var t=lt.current.getContext("2d");lt.current.width=it.current.videoWidth,lt.current.height=it.current.videoHeight,t.drawImage(it.current,0,0,lt.current.width,lt.current.height);var e=lt.current.toDataURL("image/jpeg"),a=new FormData,n=ut(e);c(n),a.append("file",n),Z(!0),mt(n)}},ut=function(t){for(var e=t.split(","),a=e[0].match(/:(.*?);/)[1],n=atob(e[1]),r=n.length,o=new Uint8Array(r);r--;)o[r]=n.charCodeAt(r);return new Blob([o],{type:a})},mt=function(){var t=Object(s.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=new FormData).append("file",e),t.next=5,et({method:"post",url:"http://localhost:8000/predict",data:a});case 5:200===t.sent.status?console.log("Image sent successfully!"):(Z(!1),console.error("Failed to send image.")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error sending image:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsx)("div",{className:"camera-card",children:Object(E.jsx)(m.a,{maxWidth:!1,className:t.mainContainer,disableGutters:!0,children:Object(E.jsxs)(j.a,{className:t.gridContainer,container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(E.jsxs)(j.a,{item:!0,xs:12,md:6,children:[ot&&Object(E.jsxs)("div",{className:"video-capture-container",children:[Object(E.jsx)("video",{className:"livePreview",ref:it,autoPlay:!0,playsInline:!0}),Object(E.jsx)("canvas",{className:"capturedImage",ref:lt,position:"relative",width:"300",height:"200"}),Object(E.jsxs)("div",{className:"btnDiv",children:[Object(E.jsxs)("button",{className:"captureBtn",onClick:bt,children:[Object(E.jsx)(F.a,{fontSize:"large"}),Object(E.jsx)("br",{}),"Capture"]}),Object(E.jsxs)("button",{className:"clearBtn",onClick:function(){lt.current&&lt.current.getContext("2d").clearRect(0,0,700,600)},children:[Object(E.jsx)(T.a,{fontSize:"large"}),Object(E.jsx)("br",{}),"Clear"]}),Object(E.jsxs)("button",{className:"stopBtn",onClick:function(){ot&&(ot.getTracks().forEach((function(t){return t.stop()})),ct(null))},children:[Object(E.jsx)(H.a,{fontSize:"large"}),Object(E.jsx)("br",{})," Stop"]}),Object(E.jsxs)("button",{className:"downloadBtn",onClick:function(){var t=lt.current.toDataURL("image/jpeg"),e=document.createElement("a");e.href=t,e.download="captured_image.jpeg",e.click()},children:[Object(E.jsx)(A.a,{fontSize:"large"}),Object(E.jsx)("br",{})," Download"]}),Object(E.jsxs)("button",{className:"reloadBtn",onClick:function(){window.location.reload()},children:[Object(E.jsx)(M.a,{}),Object(E.jsx)("br",{})," Reload"]})]})]}),!ot&&Object(E.jsx)("div",{className:"camera-container",children:Object(E.jsx)("button",{className:"startBtn",onClick:pt,children:"Start Camera"})})]}),Object(E.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(E.jsxs)(g.a,{className:"".concat(t.imageCard," ").concat(K?"":t.imageCardEmpty),children:[W&&Object(E.jsx)(f.a,{children:Object(E.jsx)(O.a,{className:t.media,image:W,component:"img",title:"Image Sample"})}),!K&&Object(E.jsx)(h.a,{className:t.content,children:Object(E.jsx)(I.a,{acceptedFiles:["image/*"],dropzoneText:"Potato Image Captured using Camera Will Be Processed Here",onChange:function(t){if(!t||0===t.length)return c(void 0),Q(!1),void L(void 0);c(t[0]),L(void 0),Q(!0)}})}),U&&Object(E.jsx)(h.a,{className:t.detail,children:Object(E.jsx)(C.a,{component:w.a,className:t.tableContainer,children:Object(E.jsxs)(k.a,{className:t.table,size:"small","aria-label":"simple table",children:[Object(E.jsx)(v.a,{className:t.tableHead,children:Object(E.jsxs)(N.a,{className:t.tableRow,children:[Object(E.jsx)(S.a,{className:t.tableCell1,children:"Label:"}),Object(E.jsx)(S.a,{align:"right",className:t.tableCell1,children:"Confidence:"})]})}),Object(E.jsx)(y.a,{className:t.tableBody,children:Object(E.jsxs)(N.a,{className:t.tableRow,children:[Object(E.jsx)(S.a,{component:"th",scope:"row",className:t.tableCell,children:U.class}),Object(E.jsxs)(S.a,{align:"right",className:t.tableCell,children:[$,"%"]})]})})]})})}),Y&&Object(E.jsxs)(h.a,{className:t.detail,children:[Object(E.jsx)(R.a,{color:"secondary",className:t.loader}),Object(E.jsx)(u.a,{className:t.title,variant:"h6",noWrap:!0,children:"Processing"})]})]})}),U&&Object(E.jsx)(j.a,{item:!0,className:t.buttonGrid,children:Object(E.jsx)(tt,{variant:"contained",className:t.clearButton,color:"primary",component:"span",size:"large",onClick:function(){L(null),Q(!1),c(null),B(null)},startIcon:Object(E.jsx)(D.a,{fontSize:"large"}),children:"Clear"})})]})})})};c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(q,{})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.7542b11a.chunk.js.map